<p class="helper">Select a mode to perform different fraction operations.</p>

<div class="mode-selector" role="tablist" aria-label="Calculation modes">
  <button class="mode-button active" data-mode="add" role="tab" aria-selected="true">Add</button>
  <button class="mode-button" data-mode="subtract" role="tab" aria-selected="false">
    Subtract
  </button>
  <button class="mode-button" data-mode="multiply" role="tab" aria-selected="false">
    Multiply
  </button>
  <button class="mode-button" data-mode="divide" role="tab" aria-selected="false">Divide</button>
  <button class="mode-button" data-mode="simplify" role="tab" aria-selected="false">
    Simplify
  </button>
  <button class="mode-button" data-mode="convert" role="tab" aria-selected="false">Convert</button>
</div>

<!-- Add Fractions -->
<div class="input-section active" data-mode="add" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">First fraction</div>
      <div class="fraction-row">
        <input id="add-num1" type="number" value="1" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="add-den1" type="number" value="4" placeholder="Denominator" />
      </div>
    </div>
    <div>
      <div class="fraction-label">Second fraction</div>
      <div class="fraction-row">
        <input id="add-num2" type="number" value="1" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="add-den2" type="number" value="8" placeholder="Denominator" />
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="add">Calculate</button>
</div>

<!-- Subtract Fractions -->
<div class="input-section" data-mode="subtract" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">First fraction</div>
      <div class="fraction-row">
        <input id="sub-num1" type="number" value="3" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="sub-den1" type="number" value="4" placeholder="Denominator" />
      </div>
    </div>
    <div>
      <div class="fraction-label">Second fraction</div>
      <div class="fraction-row">
        <input id="sub-num2" type="number" value="1" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="sub-den2" type="number" value="6" placeholder="Denominator" />
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="subtract">Calculate</button>
</div>

<!-- Multiply Fractions -->
<div class="input-section" data-mode="multiply" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">First fraction</div>
      <div class="fraction-row">
        <input id="mul-num1" type="number" value="2" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="mul-den1" type="number" value="3" placeholder="Denominator" />
      </div>
    </div>
    <div>
      <div class="fraction-label">Second fraction</div>
      <div class="fraction-row">
        <input id="mul-num2" type="number" value="3" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="mul-den2" type="number" value="5" placeholder="Denominator" />
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="multiply">Calculate</button>
</div>

<!-- Divide Fractions -->
<div class="input-section" data-mode="divide" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">First fraction</div>
      <div class="fraction-row">
        <input id="div-num1" type="number" value="2" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="div-den1" type="number" value="3" placeholder="Denominator" />
      </div>
    </div>
    <div>
      <div class="fraction-label">Second fraction</div>
      <div class="fraction-row">
        <input id="div-num2" type="number" value="4" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="div-den2" type="number" value="5" placeholder="Denominator" />
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="divide">Calculate</button>
</div>

<!-- Simplify Fraction -->
<div class="input-section" data-mode="simplify" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">Fraction to simplify</div>
      <div class="fraction-row">
        <input id="simp-num" type="number" value="6" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="simp-den" type="number" value="8" placeholder="Denominator" />
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="simplify">Simplify</button>
</div>

<!-- Convert Improper/Mixed -->
<div class="input-section" data-mode="convert" role="tabpanel">
  <div class="fraction-inputs">
    <div>
      <div class="fraction-label">Improper fraction → Mixed number</div>
      <div class="fraction-row">
        <input id="conv-imp-num" type="number" value="7" placeholder="Numerator" />
        <div class="fraction-divider">/</div>
        <input id="conv-imp-den" type="number" value="3" placeholder="Denominator" />
      </div>
    </div>
    <div>
      <div class="fraction-label">Mixed number → Improper fraction</div>
      <div class="mixed-number-row">
        <input id="conv-mix-whole" type="number" value="1" placeholder="Whole" />
        <div class="fraction-row">
          <input id="conv-mix-num" type="number" value="2" placeholder="Numerator" />
          <div class="fraction-divider">/</div>
          <input id="conv-mix-den" type="number" value="5" placeholder="Denominator" />
        </div>
      </div>
    </div>
  </div>
  <button type="button" class="calculate" data-calculate="convert">Convert Both</button>
</div>

<div class="result" id="fraction-result" aria-live="polite"></div>

<style>
  label {
    font-size: 14px;
    color: var(--muted-text);
    display: block;
    margin-bottom: 6px;
  }

  input[type='number'] {
    width: 100%;
    padding: 10px 12px;
    border-radius: 10px;
    border: 1px solid var(--border-color);
    font-size: 16px;
  }

  .mode-selector {
    display: flex;
    gap: 8px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .mode-button {
    padding: 8px 16px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: var(--panel-bg);
    color: #1f2937;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
  }

  .mode-button:hover {
    background: #f1f5f9;
  }

  .mode-button.active {
    background: #2563eb;
    color: #fff;
    border-color: #2563eb;
  }

  .input-section {
    display: none;
    animation: fadeIn 0.3s;
  }

  .input-section.active {
    display: block;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .fraction-inputs {
    display: grid;
    gap: 16px;
    margin-bottom: 16px;
    min-height: 180px;
  }

  .fraction-row {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: 12px;
    align-items: center;
  }

  .fraction-label {
    font-weight: 600;
    margin-bottom: 8px;
  }

  .fraction-divider {
    text-align: center;
    font-size: 24px;
    color: var(--muted-text);
  }

  .mixed-number-row {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: 12px;
    align-items: end;
  }

  button.calculate {
    padding: 10px 12px;
    border-radius: 10px;
    border: none;
    background: #2563eb;
    color: #fff;
    font-weight: 600;
    cursor: pointer;
    width: 100%;
  }

  .result {
    margin-top: 18px;
    font-size: 20px;
    font-weight: 600;
    min-height: 60px;
  }

  .result-detail {
    font-size: 14px;
    color: var(--muted-text);
    margin-top: 8px;
    font-weight: 400;
  }

  .helper {
    color: var(--muted-text);
    margin-bottom: 16px;
    font-size: 14px;
  }
</style>
